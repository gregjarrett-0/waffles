import * as DialogExports from '@datacamp/waffles/dialog';

import Layout from '../../components/content-layout';
import BestPractices from '../../components/best-practices';
import Example from '../../components/example';
import Playground from '../../components/playground';
import PropsTable from '../../components/props-table';
import Imports from '../../components/imports';
import { Code } from '@datacamp/waffles/code';
import { Notification } from '@datacamp/waffles/notification';

import playgroundConfig from '../../examples/dialog/playground-config';
import BasicUsage from '../../examples/dialog/basic-usage';
import CenterAligned from '../../examples/dialog/center-aligned';
import DecorativeHeader from '../../examples/dialog/decorative-header';
import CustomIconOverride from '../../examples/dialog/custom-icon-override';
import CustomClose from '../../examples/dialog/custom-close';

<Layout title="Dialog" description="Displays popup content that requires user interaction, on top of an overlay.">

## Usage guidance

Due to their inherently disruptive nature, `Dialogs` should be used sparingly on a page and saved for situations where it's required for the user to acknowledge or review an action or situation before returning to the active task. The content of a `Dialog` should be both clear and concise.

A `Dialog` will block further interactions with the page (including scrolling) until it is closed. This can happen by the user clicking the included close button, or performing one of the actions within the footer.

An optional decorative header can be provided, by specifying `mode='decorative'` on the `Dialog.Header`. Additionally, a `variant` can also be specified (in the same manner as [Notification](/components/notification)) to change the decorative header styling. This will change the icon present as well, but a custom icon can be provided via `customIconOverride` too.

A close button is provided by the `Dialog` and whilst it should always be visible, it can be overridden via the `closeButtonOverride` prop.

The `Dialog` can also be center aligned using `alignCenter`.

## Accessibility

`Dialog` must have a `Dialog.Header` child component provided in order to meet modal accessibility requirements via `aria-describedby`.

It is recommended to have the initial focus set on the most relevant element&mdash;in most cases the confirmation button. To do so, pass the `autoFocus` prop to a `Dialog.Button` subcomponent used in the `Dialog.Footer`.
If no initial focus is explicitly set, then the close button will be focused by default.

<Notification
  title="Descriptive Content"
  description={
    <>
      If <Code>Dialog.Body</Code> contains non-descriptive content (e.g. form
      elements), then <Code>aria-label</Code> should be provided on the main{' '}
      <Code>Dialog</Code> element with context of the content.
    </>
  }
/>

## Best practices

<BestPractices>
  <BestPractices.Recommended>

    - use infrequently, where user acknowledgement / confirmation from the user is important
    - use for capturing the users attention

  </BestPractices.Recommended>
  <BestPractices.Discouraged>

    - use the incorrect decorative variant
    - use for an action that should not interrupt the user
    - use for destructive or irreversible action confirmation&mdash;use Waffles [Alert Dialog](/components/alert-dialog) instead
    - use more than three actions within the `Dialog.Footer`

  </BestPractices.Discouraged>
</BestPractices>

## Examples

<Example title="Basic usage" path="dialog/basic-usage">
  <BasicUsage />
</Example>

<Example title="Center aligned" path="dialog/center-aligned">
  <CenterAligned />
</Example>

<Example title="Decorative header" path="dialog/decorative-header">
  <DecorativeHeader />
</Example>

<Example
  title="Decorative header with custom icon"
  path="dialog/custom-icon-override"
>
  <CustomIconOverride />
</Example>

<Example title="Custom close" path="dialog/custom-close">
  <CustomClose />
</Example>

## Playground

<Playground {...playgroundConfig} />

## Props

### Dialog

In addition to all custom props listed below, `Dialog` accepts all props regular `HTMLDiv` would, such as `data-` attributes.

<PropsTable
  metadata={require('!!extract-react-types-loader!../../../src/dialog/dialog-internal')}
/>

### Dialog.Header

In addition to all custom props listed below, `Dialog.Header` accepts all props regular `HTMLHeading` would, such as `id`, and `data-` attributes.

<PropsTable
  metadata={require('!!extract-react-types-loader!../../../src/dialog/header')}
/>

### Dialog.Body

In addition to all custom props listed below, `Dialog.Body` accepts all props regular `HTMLDiv` would, such as `data-` attributes.

<PropsTable
  metadata={require('!!extract-react-types-loader!../../../src/dialog/body')}
/>

### Dialog.Footer

In addition to all custom props listed below, `Dialog.Footer` accepts all props regular `HTMLDiv` would, such as `data-` attributes.

<PropsTable
  metadata={require('!!extract-react-types-loader!../../../src/dialog/footer')}
/>

### Dialog.Button

In addition to all custom props listed below, `Dialog.Button` accepts all props Waffles [Button](/components/button/#props) would, except `icon`, `fullWidth` and `inverted`.

<PropsTable
  metadata={require('!!extract-react-types-loader!../../../src/dialog/button-internal')}
/>

### Dialog.CloseButton

`Dialog.CloseButton` accepts all props regular `HTMLButton` would, except `children`.

## Imports

You can import following components or utilities from this module:

<Imports module={DialogExports} path="@datacamp/waffles/dialog" />

</Layout>
