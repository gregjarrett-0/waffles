import * as MenuExports from '@datacamp/waffles/menu';
import { Notification } from '@datacamp/waffles/notification';

import Layout from '../../components/content-layout';
import BestPractices from '../../components/best-practices';
import Example from '../../components/example';
import Playground from '../../components/playground';
import PropsTable from '../../components/props-table';
import Imports from '../../components/imports';

import playgroundConfig from '../../examples/menu/playground-config';
import BasicUsage from '../../examples/menu/basic-usage';
import AdvancedUsage from '../../examples/menu/advanced-usage';
import Placement from '../../examples/menu/placement';
import Inverted from '../../examples/menu/inverted';

<Layout title="Menu" description="Menu provides a way to display a list of choices on a temporary dropdown.">

## Usage guidance

`Menu` allows users to make a selection from multiple options, features or settings, e.g. a set of account actions in the top application bar.

It appears when the user interacts with a trigger, most commonly a [Button](/components/button), although other elements can be used. Dropdown is placed next to the element that opened it. If it is in position to be cut off the screen's or browser's edge, the `Menu` can instead appear at the opposite `placement`.

Content is defined using the `Menu.Item` subcomponent. When an item can be used conditionally, but not currently, it should have the `disabled` prop instead of being hidden or removed.

`Menu.Category` should be used to separate various `Menu.Items` into groups. Its divider can be hidden by providing the `noDivider` prop.

### Structure

To keep the underlying menu structure _semantically correct_ and _accessible_ via keyboard, please follow these rules:

- besides predefined subcomponents `Menu` can also contain entirely custom components
- always wrap `Menu.Item` and `Menu.Button` (single or multiple ones) with `Menu.Category`
- due to technical limitations _do not_ abstract away whole `Menu` dropdown content into separate component

<Notification
  title="Accessible subcomponents"
  description={
    <>
      Currently <em>Menu</em> provides <em>Menu.Item</em>, and{' '}
      <em>Menu.Button</em> accessible subcomponents for optimal keyboard
      navigation experience. Other optimized subcomponents such as{' '}
      <em>Menu.Checkbox</em> and <em>Menu.Radio</em> are coming soon!
    </>
  }
/>

## Best practices

<BestPractices>
  <BestPractices.Recommended>

    - should be easy to open, close, and scan
    - `Menu.Item` label should be short
    - use simple Menu instead of simple [Dialog](/components/dialog)&mdash;it is less distruptive to the user's context

  </BestPractices.Recommended>
  <BestPractices.Discouraged>

    - have long, convoluted content

  </BestPractices.Discouraged>
</BestPractices>

## Examples

<Example title="Basic usage" path="menu/basic-usage">
  <BasicUsage />
</Example>

<Example title="Advanced usage" path="menu/advanced-usage">
  <AdvancedUsage />
</Example>

<Example title="Placement" path="menu/placement">
  <Placement />
</Example>

<Example title="Inverted" path="menu/inverted" darkPreview>
  <Inverted />
</Example>

## Playground

<Playground {...playgroundConfig} />

## Props

### Menu

In addition to all custom props listed below, `Menu` accepts all props regular `HTMLDiv` would, such as `data-` attributes.

<PropsTable
  metadata={require('!!extract-react-types-loader!../../../src/menu/menu-internal')}
/>

### Menu.Category

In addition to all custom props listed below, `Menu.Category` accepts all props regular `HTMLDiv` would, such as `data-` attributes.

<PropsTable
  metadata={require('!!extract-react-types-loader!../../../src/menu/category')}
/>

### Menu.Item

In addition to all custom props listed below, `Menu.Item` accepts all props regular `HTMLButton` would, such as `onClick`, `disabled`, and `data-` attributes.

<PropsTable
  metadata={require('!!extract-react-types-loader!../../../src/menu/item')}
  isPolymorphic
/>

### Menu.Button

`Menu.Button` accepts all props Waffles [Button](/components/button/#props) would, except: `size`, `isLoading`, `icon` and `fullWidth`.

### useMenu

A hook that exposes internal data for a given `Menu` component such as: `isOpen`, and `inverted`.

## Imports

You can import following components or utilities from this module:

<Imports module={MenuExports} path="@datacamp/waffles/menu" />

</Layout>
